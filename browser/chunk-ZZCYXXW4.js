import{a as D,b as o,c as L,d as q,g as A,h as B,i as w,l as V,m as H,n as $,o as J,r as G,s as z,t as Y}from"./chunk-KG4FPA2W.js";import{f as R,h as M}from"./chunk-E555E6H3.js";import{$ as g,$a as a,Ab as k,Cb as I,Ja as y,Sb as F,Ta as x,Ua as C,V as u,Va as E,Wa as S,Wb as N,Xa as _,Ya as f,Yb as O,Za as t,_ as h,_a as e,db as T,eb as d,gb as v,nb as i,ob as p,pb as b,wa as l,xb as P}from"./chunk-5DGU7OID.js";var W=(s,n)=>({"bg-success":s,"bg-info":n});function j(s,n){if(s&1){let r=T();t(0,"tr")(1,"td"),i(2),e(),t(3,"td"),i(4),e(),t(5,"td")(6,"span",53),i(7),e()(),t(8,"td",54),i(9),k(10,"number"),e(),t(11,"td",55),i(12),e(),t(13,"td")(14,"span",56),i(15),e()(),t(16,"td")(17,"button",57),d("click",function(){let m=h(r).$index,U=v(2);return g(U.deleteRateEntry(m))}),a(18,"i",58),e()()()}if(s&2){let r=n.$implicit;l(2),p(r.process),l(2),p(r.productCategory),l(2),f("ngClass",P(10,W,r.deptType==="In-House",r.deptType==="CMT")),l(),b(" ",r.deptType," "),l(2),b("$",I(10,7,r.pieceRate,"1.2-2")),l(3),b("",r.pieceOverhead,"%"),l(3),p(r.status)}}function K(s,n){if(s&1&&(t(0,"div",40)(1,"table",50)(2,"thead",51)(3,"tr")(4,"th"),i(5,"Process"),e(),t(6,"th"),i(7,"Product Category"),e(),t(8,"th"),i(9,"Dept Type"),e(),t(10,"th"),i(11,"Piece Rate"),e(),t(12,"th"),i(13,"Piece Overhead %"),e(),t(14,"th"),i(15,"Status"),e(),t(16,"th",52),i(17,"Action"),e()()(),t(18,"tbody"),S(19,j,19,13,"tr",null,E),e()()()),s&2){let r=v();l(19),_(r.rateTableData)}}var Q=class s{fb=u(G);router=u(M);route=u(R);isEditMode=!1;processId=null;processForm=this.fb.group({processId:[0],processType:["",[o.required]],process:["",[o.required]],processNick:["",[o.required]],standardTime:[0,[o.required,o.pattern(/^[0-9.]+$/)]],processSequence:[0,[o.required,o.pattern(/^[0-9.]+$/)]],barcodeTerminal:["No",[o.required]],status:["Active",[o.required]],productCategory:["",[o.required]],deptType:["In-House",[o.required]],pieceRate:[0,[o.required,o.pattern(/^[0-9.]+$/)]],pieceOverhead:[0,[o.required,o.pattern(/^[0-9.]+$/)]]});rateTableData=[];ngOnInit(){this.route.params.subscribe(n=>{n.id&&(this.isEditMode=!0,this.processId=n.id,this.loadProcessData(n.id))})}loadProcessData(n){let r={processId:n,processType:"Production",process:"Leather Cutting",processNick:"L/CUT",standardTime:1,processSequence:1.1,barcodeTerminal:"Yes",status:"Active",productCategory:"Leather Jacket Biker Women",deptType:"In-House",pieceRate:90,pieceOverhead:0};this.processForm.patchValue(r),this.loadRateTableData()}loadRateTableData(){this.rateTableData=[{process:"Leather Cutting",productCategory:"Leather Jacket Biker Women",deptType:"In-House",pieceRate:90,pieceOverhead:0,status:"Active"},{process:"Leather Cutting",productCategory:"Leather Jacket Biker Men",deptType:"In-House",pieceRate:100,pieceOverhead:0,status:"Active"},{process:"Leather Cutting",productCategory:"Leather Jacket Biker Men",deptType:"CMT",pieceRate:90,pieceOverhead:50,status:"Active"}]}addRateEntry(){let n=this.processForm.value;this.rateTableData.push({process:n.process,productCategory:n.productCategory,deptType:n.deptType,pieceRate:n.pieceRate,pieceOverhead:n.pieceOverhead,status:n.status}),this.clearRateFields()}clearRateFields(){this.processForm.patchValue({productCategory:"",deptType:"In-House",pieceRate:0,pieceOverhead:0})}deleteRateEntry(n){this.rateTableData.splice(n,1)}onSubmit(){this.processForm.valid&&this.rateTableData.length>0&&(console.log("Process Form Value:",this.processForm.value),console.log("Rate Table Data:",this.rateTableData),this.router.navigate(["/process"]))}onCancel(){this.router.navigate(["/process"])}goBackToList(){this.router.navigate(["/process"])}onReset(){this.processForm.reset({deptType:"In-House",status:"Active",barcodeTerminal:"No",pieceOverhead:0})}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=y({type:s,selectors:[["app-process-form"]],decls:104,vars:3,consts:[[1,"container-fluid","mt-4","mb-5"],[1,"card","shadow-sm"],[1,"card-header","bg-dark","text-white"],[1,"mb-0"],[1,"card-body"],[3,"formGroup"],[1,"section-header","mb-3"],[1,"bg-light","p-2","border-start","border-4","border-primary"],[1,"row","mb-3"],[1,"col-md-3"],[1,"form-label"],["type","text","formControlName","processId","readonly","",1,"form-control"],["formControlName","status",1,"form-control"],["value","Active"],["value","Inactive"],["formControlName","processType",1,"form-control"],["value",""],["value","Production"],["value","Quality"],["value","Inspection"],["formControlName","barcodeTerminal",1,"form-control"],["value","Yes"],["value","No"],[1,"col-md-4"],["type","text","formControlName","process","placeholder","e.g., Leather Cutting",1,"form-control"],["type","text","formControlName","processNick","placeholder","e.g., L/CUT",1,"form-control"],[1,"col-md-2"],["type","number","formControlName","standardTime","placeholder","1",1,"form-control"],["type","number","step","0.1","formControlName","processSequence","placeholder","1.1",1,"form-control"],[1,"section-header","mb-3","mt-4"],[1,"bg-light","p-2","border-start","border-4","border-success"],["type","text","formControlName","productCategory","placeholder","e.g., Leather Jacket Biker",1,"form-control"],["formControlName","deptType",1,"form-control"],["value","In-House"],["value","CMT"],["type","number","step","0.01","formControlName","pieceRate","placeholder","90",1,"form-control"],["type","number","step","0.01","formControlName","pieceOverhead","placeholder","0",1,"form-control"],[1,"col-md-12"],["type","button",1,"btn","btn-success",3,"click"],[1,"fas","fa-plus"],[1,"table-responsive","mb-4"],[1,"row","mt-4"],["type","button","title","Back to List",1,"btn","btn-outline-secondary","me-2",3,"click"],[1,"fas","fa-arrow-left"],["type","submit",1,"btn","btn-primary","me-2",3,"click"],[1,"fas","fa-save"],["type","button",1,"btn","btn-secondary","me-2",3,"click"],[1,"fas","fa-redo"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"fas","fa-times-circle"],[1,"table","table-hover","table-fixed"],[1,"table-dark","sticky-header"],["width","80"],[1,"badge",3,"ngClass"],[1,"text-end"],[1,"text-center"],[1,"badge","bg-success"],["type","button","title","Delete",1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-trash-alt"]],template:function(r,c){r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h5",3),i(4),e()(),t(5,"div",4)(6,"form",5)(7,"div",6)(8,"h6",7),i(9,"IDL - Process"),e()(),t(10,"div",8)(11,"div",9)(12,"label",10),i(13,"Process ID"),e(),a(14,"input",11),e(),t(15,"div",9)(16,"label",10),i(17,"Status"),e(),t(18,"select",12)(19,"option",13),i(20,"Active"),e(),t(21,"option",14),i(22,"Inactive"),e()()(),t(23,"div",9)(24,"label",10),i(25,"Process Type"),e(),t(26,"select",15)(27,"option",16),i(28,"Select Process Type"),e(),t(29,"option",17),i(30,"Production"),e(),t(31,"option",18),i(32,"Quality"),e(),t(33,"option",19),i(34,"Inspection"),e()()(),t(35,"div",9)(36,"label",10),i(37,"Barcode Terminal"),e(),t(38,"select",20)(39,"option",21),i(40,"YES"),e(),t(41,"option",22),i(42,"NO"),e()()()(),t(43,"div",8)(44,"div",23)(45,"label",10),i(46,"Process"),e(),a(47,"input",24),e(),t(48,"div",23)(49,"label",10),i(50,"Process Nick"),e(),a(51,"input",25),e(),t(52,"div",26)(53,"label",10),i(54,"Standard Time (Days)"),e(),a(55,"input",27),e(),t(56,"div",26)(57,"label",10),i(58,"Process Sequence"),e(),a(59,"input",28),e()(),t(60,"div",29)(61,"h6",30),i(62,"Rate"),e()(),t(63,"div",8)(64,"div",23)(65,"label",10),i(66,"Product Category"),e(),a(67,"input",31),e(),t(68,"div",9)(69,"label",10),i(70,"Dept. Type"),e(),t(71,"select",32)(72,"option",33),i(73,"In-House"),e(),t(74,"option",34),i(75,"CMT"),e()()(),t(76,"div",26)(77,"label",10),i(78,"Piece Rate"),e(),a(79,"input",35),e(),t(80,"div",9)(81,"label",10),i(82,"Piece Overhead %"),e(),a(83,"input",36),e()(),t(84,"div",8)(85,"div",37)(86,"button",38),d("click",function(){return c.addRateEntry()}),a(87,"i",39),i(88," Add Rate Entry "),e()()(),x(89,K,21,0,"div",40),t(90,"div",41)(91,"div",37)(92,"button",42),d("click",function(){return c.goBackToList()}),a(93,"i",43),i(94," Back "),e(),t(95,"button",44),d("click",function(){return c.onSubmit()}),a(96,"i",45),i(97," Save "),e(),t(98,"button",46),d("click",function(){return c.onReset()}),a(99,"i",47),i(100," Reset "),e(),t(101,"button",48),d("click",function(){return c.onCancel()}),a(102,"i",49),i(103," Cancel "),e()()()()()()()),r&2&&(l(4),p(c.isEditMode?"Edit Process":"Process Master"),l(2),f("formGroup",c.processForm),l(83),C(c.rateTableData.length>0?89:-1))},dependencies:[Y,A,$,J,D,B,H,L,q,w,V,z,O,F,N],styles:[".card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px 12px 0 0;padding:16px 20px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.5px;color:#fff;margin:0;font-size:1.1rem;display:flex;align-items:center;gap:8px}.card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{font-size:.95rem;padding:12px}"]})};export{Q as ProcessForm};
