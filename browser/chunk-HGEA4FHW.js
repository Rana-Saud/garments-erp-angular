import{Ja as O,Q as C,V as v,Yb as x,ab as t,bb as e,cb as h,ib as g,jb as y,kb as b,n as u,nb as a,ob as l,r as E,wa as m}from"./chunk-5DGU7OID.js";var p=class s{getSummary(){return u({totalOrders:45,workOrdersOpen:12,inventoryLow:5,qcFails:3,ordersByDay:[{day:"Mon",produced:120,defects:3},{day:"Tue",produced:95,defects:5},{day:"Wed",produced:110,defects:2},{day:"Thu",produced:130,defects:6},{day:"Fri",produced:80,defects:3}],inventoryDistribution:[{name:"Leather",value:70},{name:"Trims",value:20},{name:"Other",value:10}]})}getSummarySync(){return{totalOrders:45,workOrdersOpen:12,inventoryLow:5,qcFails:3}}static \u0275fac=function(r){return new(r||s)};static \u0275prov=C({token:s,factory:s.\u0275fac,providedIn:"root"})};var M=["barChart"],_=["pieChart"],w=class s{barChartEl;pieChartEl;ds=v(p);barChart=null;pieChart=null;async ngAfterViewInit(){let d=await E(this.ds.getSummary());await new Promise(c=>{let o=()=>{if(window.echarts)return c();setTimeout(o,100)};o()});let n=window.echarts;if(!n)return;let i=this.barChartEl?.nativeElement;if(i){this.barChart=n.init(i);let c={title:{text:"Production - This Week",left:"center",textStyle:{fontSize:14}},tooltip:{trigger:"axis"},legend:{top:40,data:["Produced","Defects"]},xAxis:{type:"category",data:d.ordersByDay.map(o=>o.day)},yAxis:{type:"value"},series:[{name:"Produced",type:"bar",data:d.ordersByDay.map(o=>o.produced),itemStyle:{color:"#4CAF50"}},{name:"Defects",type:"bar",data:d.ordersByDay.map(o=>o.defects),itemStyle:{color:"#F44336"}}]};this.barChart.setOption(c)}let f=this.pieChartEl?.nativeElement;if(f){this.pieChart=n.init(f);let c=d.inventoryDistribution||[{name:"Leather",value:70},{name:"Trims",value:20},{name:"Other",value:10}],o={tooltip:{trigger:"item"},legend:{top:10},series:[{name:"Inventory",type:"pie",radius:["40%","70%"],data:c,label:{show:!0,formatter:"{b}: {d}%"}}]};this.pieChart.setOption(o)}}ngOnDestroy(){this.barChart&&this.barChart.dispose(),this.pieChart&&this.pieChart.dispose()}static \u0275fac=function(r){return new(r||s)};static \u0275cmp=O({type:s,selectors:[["app-dashboard"]],viewQuery:function(r,n){if(r&1&&(g(M,5),g(_,5)),r&2){let i;y(i=b())&&(n.barChartEl=i.first),y(i=b())&&(n.pieChartEl=i.first)}},decls:55,vars:4,consts:[["barChart",""],["pieChart",""],[1,"dashboard"],[1,"top-cards","row","g-3"],[1,"col-md-3"],[1,"card","stat","border-0","shadow-sm","card-1","py-2"],[1,"card-body"],[1,"text-white","mb-2","fs-4","fw-bold"],[1,"value","text-warning","fw-bold"],[1,"text-white","fs-6"],[1,"card","stat","border-0","shadow-sm","card-2","py-2"],[1,"card","stat","border-0","shadow-sm","card-3","py-2"],[1,"card","stat","border-0","shadow-sm","card-4","py-2"],[1,"charts","row","mt-4"],[1,"col-md-8"],[1,"card"],[1,"card-header","text-white"],["id","dashboard-bar",2,"height","360px","width","100%"],[1,"col-md-4"],["id","dashboard-pie",2,"height","360px","width","100%"]],template:function(r,n){r&1&&(t(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"h6",7),a(6,"Total Orders"),e(),t(7,"h2",8),a(8),e(),t(9,"small",9),a(10,"Active & recent"),e()()()(),t(11,"div",4)(12,"div",10)(13,"div",6)(14,"h6",7),a(15,"Open Work Orders"),e(),t(16,"h2",8),a(17),e(),t(18,"small",9),a(19,"Needs attention"),e()()()(),t(20,"div",4)(21,"div",11)(22,"div",6)(23,"h6",7),a(24,"Inventory Low"),e(),t(25,"h2",8),a(26),e(),t(27,"small",9),a(28,"Reorder soon"),e()()()(),t(29,"div",4)(30,"div",12)(31,"div",6)(32,"h6",7),a(33,"QC Failures (7d)"),e(),t(34,"h2",8),a(35),e(),t(36,"small",9),a(37,"Quality trend"),e()()()()(),t(38,"div",13)(39,"div",14)(40,"div",15)(41,"div",16)(42,"h6"),a(43,"Production This Week"),e()(),t(44,"div",6),h(45,"div",17,0),e()()(),t(47,"div",18)(48,"div",15)(49,"div",16)(50,"h6"),a(51,"Inventory Distribution"),e()(),t(52,"div",6),h(53,"div",19,1),e()()()()()),r&2&&(m(8),l(n.ds.getSummarySync().totalOrders),m(9),l(n.ds.getSummarySync().workOrdersOpen),m(9),l(n.ds.getSummarySync().inventoryLow),m(9),l(n.ds.getSummarySync().qcFails))},dependencies:[x],styles:[".card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:12px 12px 0 0;padding:16px 20px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-weight:600;letter-spacing:.5px;color:#fff;margin:0;font-size:1.1rem;display:flex;align-items:center;gap:8px}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem}.card-body[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{font-size:.95rem;padding:12px}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{margin-bottom:12px}.dashboard[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;font-size:28px}.dashboard[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#6c757d}.charts[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{margin-bottom:12px}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{border-radius:8px;padding:20px;box-shadow:0 8px 16px #0000001a;transition:all .3s ease}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 24px #00000026}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat.card-1[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4a90e2,#9013fe);color:#1a1a1a}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat.card-2[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f39c12,#e74c3c);color:#1a1a1a}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat.card-3[_ngcontent-%COMP%]{background:linear-gradient(135deg,#2ecc71,#27ae60);color:#1a1a1a}.dashboard[_ngcontent-%COMP%]   .top-cards[_ngcontent-%COMP%]   .stat.card-4[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3498db,#2980b9);color:#1a1a1a}"]})};export{w as Dashboard};
