<div class="scan-grid">
  <h5>Scanned Items</h5>
  <table class="table table-sm">
    <thead class="table-dark">
      <tr>
        <th>#</th>
        <th>Style/Model</th>
        <th>Leather</th>
        <th>Color</th>
        <th>Size</th>
        <th>Barcode</th>
        <th>Time</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      @for (s of scans; track $index) {
      <tr>
        <td>{{ $index + 1 }}</td>
        <td>{{ s.parsed ? s.styleModel : '-' }}</td>
        <td>{{ s.parsed ? s.leather : '-' }}</td>
        <td>{{ s.parsed ? s.color : '-' }}</td>
        <td>{{ s.parsed ? s.size : '-' }}</td>
        <td class="text-monospace">{{ s.barcode || s.value }}</td>
        <td>{{ s.time | date: 'short' }}</td>
        <td>
          <button class="btn btn-sm btn-primary me-1" (click)="apply($index)">Apply</button>
          <button class="btn btn-sm btn-outline-secondary me-1" (click)="copy($index)">Copy</button>
          <button class="btn btn-sm btn-danger" (click)="remove($index)">Delete</button>
        </td>
      </tr>
      }

      @if (!scans || scans.length === 0) {
      <tr>
        <td colspan="8" class="text-center">No scans yet</td>
      </tr>
      }
    </tbody>
  </table>

  <div class="actions">
    <button class="btn btn-primary" (click)="save()">Save</button>
    <button class="btn btn-secondary" (click)="clear()">Clear</button>
  </div>
</div>
